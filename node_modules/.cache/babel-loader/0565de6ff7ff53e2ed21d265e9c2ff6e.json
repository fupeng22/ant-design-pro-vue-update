{"remainingRequest":"D:\\practicespace\\ant-design-pro-vue-master\\node_modules\\babel-loader\\lib\\index.js!D:\\practicespace\\ant-design-pro-vue-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\practicespace\\ant-design-pro-vue-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\practicespace\\ant-design-pro-vue-master\\src\\views\\schedule\\model\\schedule-cell.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\practicespace\\ant-design-pro-vue-master\\src\\views\\schedule\\model\\schedule-cell.vue","mtime":1590808500451},{"path":"D:\\practicespace\\ant-design-pro-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\practicespace\\ant-design-pro-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\practicespace\\ant-design-pro-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\practicespace\\ant-design-pro-vue-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9wcmFjdGljZXNwYWNlL2FudC1kZXNpZ24tcHJvLXZ1ZS1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NjaGVkdWxlLWNlbGwnLAogIHByb3BzOiB7CiAgICB0ZXh0OiBTdHJpbmcsCiAgICByb3dEYXRhOiBBcnJheQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1vbWVudDogbW9tZW50LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZXZlbnQsIGtleSwgY29sdW1uLCB0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKGV2ZW50LCBrZXksIGNvbHVtbiwgdHlwZSwgJ2hhbmRsZUNoYW5nZScpOwogICAgICB2YXIgdmFsdWUgPSAnJzsKCiAgICAgIGlmICh0eXBlID09PSAnZGF0ZScpIHsKICAgICAgICB2YWx1ZSA9IG1vbWVudChldmVudCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHsKICAgICAgICB2YWx1ZSA9IGV2ZW50OwogICAgICB9IGVsc2UgewogICAgICAgIHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICB9CgogICAgICB2YXIgbmV3RGF0YSA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmRhdGFTb3VyY2UpOwoKICAgICAgdmFyIHRhcmdldCA9IG5ld0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGtleSA9PT0gaXRlbS5rZXk7CiAgICAgIH0pWzBdOwoKICAgICAgaWYgKHRhcmdldCkgewogICAgICAgIHRhcmdldFtjb2x1bW5dID0gdmFsdWU7CiAgICAgICAgdGhpcy5kYXRhU291cmNlID0gbmV3RGF0YTsKICAgICAgfQogICAgfSwKICAgIG9uQ2VsbENoYW5nZTogZnVuY3Rpb24gb25DZWxsQ2hhbmdlKGtleSkgewogICAgICBjb25zb2xlLmxvZyhrZXksICdvbkNlbGxDaGFuZ2UnKTsgLy8gY29uc3QgZGF0YVNvdXJjZSA9IFsuLi50aGlzLmRhdGFTb3VyY2VdOwogICAgICAvLyBjb25zdCB0YXJnZXQgPSBkYXRhU291cmNlLmZpbmQoKGl0ZW0pID0+IGl0ZW0ua2V5ID09PSBrZXkpOwogICAgICAvLyBpZiAodGFyZ2V0KSB7CiAgICAgIC8vICAgICB0YXJnZXRbZGF0YUluZGV4XSA9IHZhbHVlOwogICAgICAvLyAgICAgdGhpcy5kYXRhU291cmNlID0gZGF0YVNvdXJjZTsKICAgICAgLy8gfQogICAgfSwKICAgIGhhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKCkgewogICAgICB2YXIgZGF0YVNvdXJjZSA9IHRoaXMuZGF0YVNvdXJjZTsKICAgICAgdmFyIGNvdW50ID0gZGF0YVNvdXJjZS5sZW5ndGg7CiAgICAgIHZhciBkYXRlID0gbW9tZW50KERhdGUubm93KCkpLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwogICAgICB2YXIgbmV3RGF0YSA9IHsKICAgICAgICBrZXk6IGNvdW50LAogICAgICAgIHN0YXR1czogJ2NoZWNrJywKICAgICAgICBjcmVhdGVUaW1lOiBkYXRlLAogICAgICAgIHJlcXVpcmVkVGltZTogZGF0ZQogICAgICB9OwogICAgICB0aGlzLmRhdGFTb3VyY2UgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGRhdGFTb3VyY2UpLCBbbmV3RGF0YV0pOwogICAgfSwKICAgIGhhbmRsZUNlbGw6IGZ1bmN0aW9uIGhhbmRsZUNlbGwocmVjb3JkKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlY29yZCwgJ2hhbmRlbENlbGwnKTsKICAgIH0sCiAgICBDdXN0b21DZWxsOiBmdW5jdGlvbiBDdXN0b21DZWxsKHJlY29yZCwgcm93SW5kZXgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBvbjogewogICAgICAgICAgZGJsY2xpY2s6IGZ1bmN0aW9uIGRibGNsaWNrKGV2ZW50KSB7CiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQubG9jYWxOYW1lID09PSAnaW5wdXQnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlY29yZC5zdGF0dXMgPSByZWNvcmQuc3RhdHVzID09PSAnZWRpdCcgPyAnY2hlY2snIDogJ2VkaXQnOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZWNvcmQsIHJvd0luZGV4LCBldmVudC50YXJnZXQubG9jYWxOYW1lLCAnY3VzdG9tLWNlbGwnKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb250ZXh0bWVudTogZnVuY3Rpb24gY29udGV4dG1lbnUoZXZlbnQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQsICdjdXN0b20tY2VsbCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["schedule-cell.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,MADA;AAEA,IAAA,OAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA,EAAA;AACA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,YAFA,wBAEA,KAFA,EAEA,GAFA,EAEA,MAFA,EAEA,IAFA,EAEA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,GAAA,EAAA,MAAA,EAAA,IAAA,EAAA,cAAA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,UAAA,IAAA,KAAA,MAAA,EAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,KAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAAA;AACA,OAFA,MAEA,IAAA,IAAA,KAAA,QAAA,EAAA;AACA,QAAA,KAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;;AACA,UAAA,OAAA,sBAAA,KAAA,UAAA,CAAA;;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,GAAA,KAAA,IAAA,CAAA,GAAA;AAAA,OAAA,EAAA,CAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,GAAA,KAAA;AACA,aAAA,UAAA,GAAA,OAAA;AACA;AACA,KAlBA;AAmBA,IAAA,YAnBA,wBAmBA,GAnBA,EAmBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,cAAA,EADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,KA3BA;AA4BA,IAAA,SA5BA,uBA4BA;AAAA,UACA,UADA,GACA,IADA,CACA,UADA;AAEA,UAAA,KAAA,GAAA,UAAA,CAAA,MAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAAA;AACA,UAAA,OAAA,GAAA;AAAA,QAAA,GAAA,EAAA,KAAA;AAAA,QAAA,MAAA,EAAA,OAAA;AAAA,QAAA,UAAA,EAAA,IAAA;AAAA,QAAA,YAAA,EAAA;AAAA,OAAA;AACA,WAAA,UAAA,gCAAA,UAAA,IAAA,OAAA;AACA,KAlCA;AAoCA,IAAA,UApCA,sBAoCA,MApCA,EAoCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,YAAA;AACA,KAtCA;AAuCA,IAAA,UAvCA,sBAuCA,MAvCA,EAuCA,QAvCA,EAuCA;AACA,aAAA;AACA,QAAA,EAAA,EAAA;AACA,UAAA,QAAA,EAAA,kBAAA,KAAA,EAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,SAAA,KAAA,OAAA,EAAA;AACA,qBAAA,IAAA;AACA;;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,KAAA,MAAA,GAAA,OAAA,GAAA,MAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,QAAA,EAAA,KAAA,CAAA,MAAA,CAAA,SAAA,EAAA,aAAA;AACA,WAPA;AAQA,UAAA,WAAA,EAAA,qBAAA,KAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,aAAA;AACA;AAVA;AADA,OAAA;AAcA;AAtDA;AATA,CAAA","sourcesContent":["<template>\r\n  <div v-if=\"item.type === 'edit'\">\r\n    <span>{{text}}</span>\r\n  </div>\r\n  <a-select\r\n    class=\"cell-select\"\r\n    @change=\"(e) => handleChange(e, props.key, item.key, item.type)\"\r\n    v-else-if=\"item.type === 'select'\">\r\n    <a-select-option v-for=\"op of item.option\" :key=\"op\" :value=\"op\">{{ op }}</a-select-option>\r\n  </a-select>\r\n  <a-date-picker\r\n    :allowClear=\"false\"\r\n    @change=\"(e) => handleChange(e, props[item.key].key, item.key, item.type)\"\r\n    v-else-if=\"item.type === 'date'\"\r\n    :format=\"dateFormat\"/>\r\n  <a-input\r\n    v-else-if=\"item.type === 'input'\"\r\n    :value=\"text\"\r\n    @change=\"(e) => handleChange(e, props.key, item.key, item.type)\"/>\r\n</template>\r\n<script>\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'schedule-cell',\r\n  props: {\r\n    text: String,\r\n    rowData: Array\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  methods: {\r\n    moment,\r\n    handleChange (event, key, column, type) {\r\n      console.log(event, key, column, type, 'handleChange')\r\n      let value = ''\r\n      if (type === 'date') {\r\n        value = moment(event).format('YYYY-MM-DD')\r\n      } else if (type === 'select') {\r\n        value = event\r\n      } else {\r\n        value = event.target.value\r\n      }\r\n      const newData = [...this.dataSource]\r\n      const target = newData.filter((item) => key === item.key)[0]\r\n      if (target) {\r\n        target[column] = value\r\n        this.dataSource = newData\r\n      }\r\n    },\r\n    onCellChange (key) {\r\n      console.log(key, 'onCellChange')\r\n      // const dataSource = [...this.dataSource];\r\n      // const target = dataSource.find((item) => item.key === key);\r\n      // if (target) {\r\n      //     target[dataIndex] = value;\r\n      //     this.dataSource = dataSource;\r\n      // }\r\n    },\r\n    handleAdd () {\r\n      const { dataSource } = this\r\n      const count = dataSource.length\r\n      const date = moment(Date.now()).format('YYYY-MM-DD')\r\n      const newData = { key: count, status: 'check', createTime: date, requiredTime: date }\r\n      this.dataSource = [...dataSource, newData]\r\n    },\r\n\r\n    handleCell (record) {\r\n      console.log(record, 'handelCell')\r\n    },\r\n    CustomCell (record, rowIndex) {\r\n      return {\r\n        on: {\r\n          dblclick: (event) => {\r\n            if (event.target.localName === 'input') {\r\n              return true\r\n            }\r\n            record.status = record.status === 'edit' ? 'check' : 'edit'\r\n            console.log(record, rowIndex, event.target.localName, 'custom-cell')\r\n          },\r\n          contextmenu: (event) => {\r\n            console.log(event, 'custom-cell')\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n</style>\r\n"],"sourceRoot":"src/views/schedule/model"}]}