{"remainingRequest":"D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\node_modules\\babel-loader\\lib\\index.js!D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\src\\views\\schedule\\model\\schedule-cell.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\src\\views\\schedule\\model\\schedule-cell.vue","mtime":1590808500451},{"path":"D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\practicespace\\VueProj\\ant-design-pro-vue-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9wcmFjdGljZXNwYWNlL1Z1ZVByb2ovYW50LWRlc2lnbi1wcm8tdnVlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2NoZWR1bGUtY2VsbCcsCiAgcHJvcHM6IHsKICAgIHRleHQ6IFN0cmluZywKICAgIHJvd0RhdGE6IEFycmF5CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbWV0aG9kczogewogICAgbW9tZW50OiBtb21lbnQsCiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShldmVudCwga2V5LCBjb2x1bW4sIHR5cGUpIHsKICAgICAgY29uc29sZS5sb2coZXZlbnQsIGtleSwgY29sdW1uLCB0eXBlLCAnaGFuZGxlQ2hhbmdlJyk7CiAgICAgIHZhciB2YWx1ZSA9ICcnOwoKICAgICAgaWYgKHR5cGUgPT09ICdkYXRlJykgewogICAgICAgIHZhbHVlID0gbW9tZW50KGV2ZW50KS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnc2VsZWN0JykgewogICAgICAgIHZhbHVlID0gZXZlbnQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7CiAgICAgIH0KCiAgICAgIHZhciBuZXdEYXRhID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZGF0YVNvdXJjZSk7CgogICAgICB2YXIgdGFyZ2V0ID0gbmV3RGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4ga2V5ID09PSBpdGVtLmtleTsKICAgICAgfSlbMF07CgogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgdGFyZ2V0W2NvbHVtbl0gPSB2YWx1ZTsKICAgICAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXdEYXRhOwogICAgICB9CiAgICB9LAogICAgb25DZWxsQ2hhbmdlOiBmdW5jdGlvbiBvbkNlbGxDaGFuZ2Uoa2V5KSB7CiAgICAgIGNvbnNvbGUubG9nKGtleSwgJ29uQ2VsbENoYW5nZScpOyAvLyBjb25zdCBkYXRhU291cmNlID0gWy4uLnRoaXMuZGF0YVNvdXJjZV07CiAgICAgIC8vIGNvbnN0IHRhcmdldCA9IGRhdGFTb3VyY2UuZmluZCgoaXRlbSkgPT4gaXRlbS5rZXkgPT09IGtleSk7CiAgICAgIC8vIGlmICh0YXJnZXQpIHsKICAgICAgLy8gICAgIHRhcmdldFtkYXRhSW5kZXhdID0gdmFsdWU7CiAgICAgIC8vICAgICB0aGlzLmRhdGFTb3VyY2UgPSBkYXRhU291cmNlOwogICAgICAvLyB9CiAgICB9LAogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQoKSB7CiAgICAgIHZhciBkYXRhU291cmNlID0gdGhpcy5kYXRhU291cmNlOwogICAgICB2YXIgY291bnQgPSBkYXRhU291cmNlLmxlbmd0aDsKICAgICAgdmFyIGRhdGUgPSBtb21lbnQoRGF0ZS5ub3coKSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgIHZhciBuZXdEYXRhID0gewogICAgICAgIGtleTogY291bnQsCiAgICAgICAgc3RhdHVzOiAnY2hlY2snLAogICAgICAgIGNyZWF0ZVRpbWU6IGRhdGUsCiAgICAgICAgcmVxdWlyZWRUaW1lOiBkYXRlCiAgICAgIH07CiAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZGF0YVNvdXJjZSksIFtuZXdEYXRhXSk7CiAgICB9LAogICAgaGFuZGxlQ2VsbDogZnVuY3Rpb24gaGFuZGxlQ2VsbChyZWNvcmQpIHsKICAgICAgY29uc29sZS5sb2cocmVjb3JkLCAnaGFuZGVsQ2VsbCcpOwogICAgfSwKICAgIEN1c3RvbUNlbGw6IGZ1bmN0aW9uIEN1c3RvbUNlbGwocmVjb3JkLCByb3dJbmRleCkgewogICAgICByZXR1cm4gewogICAgICAgIG9uOiB7CiAgICAgICAgICBkYmxjbGljazogZnVuY3Rpb24gZGJsY2xpY2soZXZlbnQpIHsKICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5sb2NhbE5hbWUgPT09ICdpbnB1dCcpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmVjb3JkLnN0YXR1cyA9IHJlY29yZC5zdGF0dXMgPT09ICdlZGl0JyA/ICdjaGVjaycgOiAnZWRpdCc7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlY29yZCwgcm93SW5kZXgsIGV2ZW50LnRhcmdldC5sb2NhbE5hbWUsICdjdXN0b20tY2VsbCcpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbnRleHRtZW51OiBmdW5jdGlvbiBjb250ZXh0bWVudShldmVudCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudCwgJ2N1c3RvbS1jZWxsJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["schedule-cell.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,MADA;AAEA,IAAA,OAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA,EAAA;AACA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,YAFA,wBAEA,KAFA,EAEA,GAFA,EAEA,MAFA,EAEA,IAFA,EAEA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,GAAA,EAAA,MAAA,EAAA,IAAA,EAAA,cAAA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,UAAA,IAAA,KAAA,MAAA,EAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,KAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAAA;AACA,OAFA,MAEA,IAAA,IAAA,KAAA,QAAA,EAAA;AACA,QAAA,KAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;;AACA,UAAA,OAAA,sBAAA,KAAA,UAAA,CAAA;;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,GAAA,KAAA,IAAA,CAAA,GAAA;AAAA,OAAA,EAAA,CAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,GAAA,KAAA;AACA,aAAA,UAAA,GAAA,OAAA;AACA;AACA,KAlBA;AAmBA,IAAA,YAnBA,wBAmBA,GAnBA,EAmBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,cAAA,EADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,KA3BA;AA4BA,IAAA,SA5BA,uBA4BA;AAAA,UACA,UADA,GACA,IADA,CACA,UADA;AAEA,UAAA,KAAA,GAAA,UAAA,CAAA,MAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAAA;AACA,UAAA,OAAA,GAAA;AAAA,QAAA,GAAA,EAAA,KAAA;AAAA,QAAA,MAAA,EAAA,OAAA;AAAA,QAAA,UAAA,EAAA,IAAA;AAAA,QAAA,YAAA,EAAA;AAAA,OAAA;AACA,WAAA,UAAA,gCAAA,UAAA,IAAA,OAAA;AACA,KAlCA;AAoCA,IAAA,UApCA,sBAoCA,MApCA,EAoCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,YAAA;AACA,KAtCA;AAuCA,IAAA,UAvCA,sBAuCA,MAvCA,EAuCA,QAvCA,EAuCA;AACA,aAAA;AACA,QAAA,EAAA,EAAA;AACA,UAAA,QAAA,EAAA,kBAAA,KAAA,EAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,SAAA,KAAA,OAAA,EAAA;AACA,qBAAA,IAAA;AACA;;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,KAAA,MAAA,GAAA,OAAA,GAAA,MAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,QAAA,EAAA,KAAA,CAAA,MAAA,CAAA,SAAA,EAAA,aAAA;AACA,WAPA;AAQA,UAAA,WAAA,EAAA,qBAAA,KAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,aAAA;AACA;AAVA;AADA,OAAA;AAcA;AAtDA;AATA,CAAA","sourcesContent":["<template>\r\n  <div v-if=\"item.type === 'edit'\">\r\n    <span>{{text}}</span>\r\n  </div>\r\n  <a-select\r\n    class=\"cell-select\"\r\n    @change=\"(e) => handleChange(e, props.key, item.key, item.type)\"\r\n    v-else-if=\"item.type === 'select'\">\r\n    <a-select-option v-for=\"op of item.option\" :key=\"op\" :value=\"op\">{{ op }}</a-select-option>\r\n  </a-select>\r\n  <a-date-picker\r\n    :allowClear=\"false\"\r\n    @change=\"(e) => handleChange(e, props[item.key].key, item.key, item.type)\"\r\n    v-else-if=\"item.type === 'date'\"\r\n    :format=\"dateFormat\"/>\r\n  <a-input\r\n    v-else-if=\"item.type === 'input'\"\r\n    :value=\"text\"\r\n    @change=\"(e) => handleChange(e, props.key, item.key, item.type)\"/>\r\n</template>\r\n<script>\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'schedule-cell',\r\n  props: {\r\n    text: String,\r\n    rowData: Array\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  methods: {\r\n    moment,\r\n    handleChange (event, key, column, type) {\r\n      console.log(event, key, column, type, 'handleChange')\r\n      let value = ''\r\n      if (type === 'date') {\r\n        value = moment(event).format('YYYY-MM-DD')\r\n      } else if (type === 'select') {\r\n        value = event\r\n      } else {\r\n        value = event.target.value\r\n      }\r\n      const newData = [...this.dataSource]\r\n      const target = newData.filter((item) => key === item.key)[0]\r\n      if (target) {\r\n        target[column] = value\r\n        this.dataSource = newData\r\n      }\r\n    },\r\n    onCellChange (key) {\r\n      console.log(key, 'onCellChange')\r\n      // const dataSource = [...this.dataSource];\r\n      // const target = dataSource.find((item) => item.key === key);\r\n      // if (target) {\r\n      //     target[dataIndex] = value;\r\n      //     this.dataSource = dataSource;\r\n      // }\r\n    },\r\n    handleAdd () {\r\n      const { dataSource } = this\r\n      const count = dataSource.length\r\n      const date = moment(Date.now()).format('YYYY-MM-DD')\r\n      const newData = { key: count, status: 'check', createTime: date, requiredTime: date }\r\n      this.dataSource = [...dataSource, newData]\r\n    },\r\n\r\n    handleCell (record) {\r\n      console.log(record, 'handelCell')\r\n    },\r\n    CustomCell (record, rowIndex) {\r\n      return {\r\n        on: {\r\n          dblclick: (event) => {\r\n            if (event.target.localName === 'input') {\r\n              return true\r\n            }\r\n            record.status = record.status === 'edit' ? 'check' : 'edit'\r\n            console.log(record, rowIndex, event.target.localName, 'custom-cell')\r\n          },\r\n          contextmenu: (event) => {\r\n            console.log(event, 'custom-cell')\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n</style>\r\n"],"sourceRoot":"src/views/schedule/model"}]}